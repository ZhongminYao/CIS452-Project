
<!DOCTYPE html>

    <html lang="en" dir="ltr">

      <head>

        <meta charset="utf-8">

        <title>Textbook Listings</title>
        <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase.js"></script>
        <script>
        // create database object
        function createTable(){
          var db = firebase.firestore();
          var tableRef = document.getElementById('table').getElementsByTagName('tbody')[0];

        // get snapshot of textbooks
          db.collection('textbooks').get().then(function(querySnapshot) {
            querySnapshot.forEach(function(doc) {
            // doc.data() is never undefined for query doc snapshots
            //console.log();
            // get individual fields
          //var data = doc.data();
            //var title = data.title;
          //  var author = data.author;
          //  var price = data.price;

            // Insert a row in the table at the last row
            var newRow = tableRef.insertRow(tableRef.rows.length);

            // Insert 3 cells in the row
            var cell1 = newRow.insertCell(0);
            //var cell2 = newRow.insertCell(1);
            //var cell3 = newRow.insertCell(2);

            // Append a text node to the cell
            var text1 = document.createTextNode(String(doc.id));
          //  var text2 = document.createTextNode(author);
          //  var text3 = document.createTextNode(price);

            cell1.appendChild(text1);
          //  cell2.appendChild(text2);
          //  cell3.appendChild(text3);

            });
          });
        }
        </script>

      </head>

      <body>

        <script>
          // Initialize Firebase
          var config = {
            apiKey: "AIzaSyAmEbdMxefi-2wt7u8_hrFHLixM_RCLmwE",
            authDomain: "cis-454.firebaseapp.com",
            databaseURL: "https://cis-454.firebaseio.com",
            projectId: "cis-454",
            storageBucket: "cis-454.appspot.com",
            messagingSenderId: "737490005392"
          };
          firebase.initializeApp(config);
        </script>
        <!-- update the version number as needed -->
        <script defer src="/__/firebase/5.8.2/firebase-app.js"></script>
        <!-- include only the Firebase features as you need -->
        <script defer src="/__/firebase/5.8.2/firebase-auth.js"></script>
        <script defer src="/__/firebase/5.8.2/firebase-database.js"></script>
        <script defer src="/__/firebase/5.8.2/firebase-messaging.js"></script>
        <script defer src="/__/firebase/5.8.2/firebase-storage.js"></script>
        <!-- initialize the SDK after all desired features are loaded -->
        <script defer src="/__/firebase/init.js"></script>

	<table style="width:100%" id="table">
    <thead>
  	  <tr>
  	    <th>Title</th>
  	    <th>Author</th>
  	    <th>Price</th>
      </tr>
    </thead>
    <tbody>
      <tr>
      <td>  ctrctrc</td>
      </tr>
    </tbody>
	</table>

	  <!--textbook.ref().once('value', function(snapshot) {
	    if (snapshot.exists()) {
	      var content = '';
	      snapshot.forEach(function(data){
		var val = data.val();
                content +='<tr>';
                content += '<td>' + val.title + '</td>';
                content += '<td>' + val.author + '</td>';
                content += '<td>' + val.price + '</td>';
                content += '</tr>';
            });
            $('#table').append(content);
        }-->
        <script>
        createTable();
        </script>


      </body>

    </html>
